# Entity의 모든것

---

### Q1. Entity가 기본생성자를 가져야하는 이유?

@Entity는 자바로 작성하는 객체와 DB의 관계형 테이블을 매핑시켜주기 위해 사용하는 어노테이션이다.

❓ 그렇다면, Jpa는 어떤 원리로 매핑을 시켜줄까?

_그 정답은 기본 생성자와 Reflection Api에 있다_

Reflection Api는 간단하게 설명하면, 런타임에도 특정 클래스에 대한 메서드, 필드 관련 정보를 모두 얻어낼 수 있는 Api다. 

우리가 테이블과 매핑시키고자하는 객체에 @Entity를 붙이고 기본생성자를 생성하는것이 원칙이다.


__jpa는 Reflection Api를 활용해서 @Entity가 붙은 클래스의 기본생성자를 통해 접근한 다음 , 테이블 필드와 매핑시켜 값을 주입시킨다.__

즉, 기본생성자를 가져야 하는 이유는 DB와 객체의 안정적인 매핑을 위해서라고 볼 수 있다.

---

### Q2. @Entity의 기본 생성자는 반드시 protected or public?

영속성 컨텍스트에서 동작하는 Entity 전략중 ,

Lazy Loading (지연로딩) 과 Eager Loading (즉시 로딩)이 있다. 

지연로딩 사용시에는 프록시 객체를 이용하는데, 이 때 프록시 객체가 원본 객체를 상속받은 프록시 형태 이기 때문에, 생성자를 private 으로 만들면 상속을 만들 수 없다. 즉 지연로딩을 사용할 수 없다. 

